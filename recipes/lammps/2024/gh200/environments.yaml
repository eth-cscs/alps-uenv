lammps:
  compiler:
  - toolchain: gcc
    spec: gcc@12.3
  mpi:
    spec: cray-mpich
    gpu: cuda
  unify: true
  specs:
  - python@3.11
  - cmake
  - cuda@12
  - kokkos@4.3.00 +wrapper +cuda cuda_arch=90
  # lammps + kokkos package
  - lammps@20240417 +kokkos +cuda cuda_arch=90 +python +extra-dump
  # lammps + GPU package, MPS enabled
  - lammps@20240417 ~kokkos +cuda cuda_arch=90 +python +extra-dump +cuda_mps
  variants:
  - +mpi
  - +cuda
  - cuda_arch=90
  views:
    develop:
      link: roots
      exclude: ["lammps"]
    lammps_gpu:
      link: roots
      exclude: ['lammps@20240417 +kokkos']
    lammps_kokkos:
      link: roots
      exclude: ['lammps@20240417 ~kokkos']

